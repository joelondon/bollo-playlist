{"version":3,"sources":["Card.jsx","CardContent.jsx","CardHeader.jsx","Property.jsx","Waveform.styled.js","Waveform.js","App.jsx","index.js"],"names":["Card","props","bg","useColorModeValue","rounded","md","shadow","overflow","CardContent","CardHeader","title","action","flexWrap","align","justify","px","py","borderBottomWidth","fontSize","width","Property","label","value","flexProps","as","direction","base","sm","_even","minWidth","flex","fontWeight","WaveformLayout","styled","div","WaveformContainer","Wave","PlayButton","button","Waveform","state","playing","hasError","ready","destroy","setState","isReady","stopPlay","handlePlay","waveform","playPause","track","document","querySelector","this","url","substr","WaveSurfer","create","barWidth","cursorWidth","container","backend","height","progressColor","responsive","waveColor","cursorColor","load","on","getDuration","e","console","warn","prevProps","name","onClick","className","id","src","Component","dbx","Dropbox","require","accessToken","AppUi","useState","urls","setURLs","setUrl","setName","setPages","page","pageLength","useEffect","audio","filesListFolder","path","then","response","files","result","entries","filesTotalAudio","fileAudioCounter","i","length","includes","filesGetTemporaryLink","path_display","push","link","metadata","size","Math","floor","catch","error","maxW","mx","variant","minW","leftIcon","href","filter","el","map","App","rootElement","getElementById","ReactDOM","render"],"mappings":"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","file":"static/js/main.0afb52e2.chunk.js","sourcesContent":["import { Box, useColorModeValue } from '@chakra-ui/react'\nimport * as React from 'react'\n\nexport const Card = (props) => (\n  <Box\n    bg={useColorModeValue('white', 'gray.700')}\n    rounded={{\n      md: 'lg',\n    }}\n    shadow=\"base\"\n    overflow=\"hidden\"\n    {...props}\n  />\n)\n","import { Box } from '@chakra-ui/react'\nimport * as React from 'react'\n\nexport const CardContent = (props) => <Box {...props} />\n","import { Flex, Box } from '@chakra-ui/react'\nimport * as React from 'react'\n\nexport const CardHeader = (props) => {\n  const { title, action } = props\n  return (\n    <Flex flexWrap=\"wrap\" align=\"center\" justify=\"space-between\" px=\"6\" py=\"4\" borderBottomWidth=\"1px\">\n      <Box fontSize=\"lg\" width=\"100%\">\n        {title}\n      </Box>\n      {action}\n    </Flex>\n  )\n}\n","import { Box, Flex, useColorModeValue } from '@chakra-ui/react'\nimport * as React from 'react'\n\nexport const Property = (props) => {\n  const { label, value, ...flexProps } = props\n  return (\n    <Flex\n      as=\"dl\"\n      direction={{\n        base: 'column',\n        sm: 'row',\n      }}\n      px=\"6\"\n      py=\"4\"\n      _even={{\n        bg: useColorModeValue('gray.50', 'gray.600'),\n      }}\n      {...flexProps}\n    >\n      <Box as=\"dt\" minWidth=\"180px\">\n        {label}\n      </Box>\n      <Box as=\"dd\" flex=\"1\" fontWeight=\"semibold\">\n        {value}\n      </Box>\n    </Flex>\n  )\n}\n","import styled from 'styled-components'\n\nexport const WaveformLayout = styled.div`\n  display: flex;\n  text-transform: lowercase;\n  font-variant: 'small-caps';\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  border: '1px black';\n  width: 100%;\n  background: transparent;\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen,\n    Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif, 'Sans Serif',\n    Icons;\n`\nexport const WaveformContainer = styled.div`\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  justify-content: center;\n  height: 100px;\n  width: 100%;\n  background: transparent;\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen,\n    Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif, 'Sans Serif',\n    Icons;\n`\nexport const Wave = styled.div`\n  width: 100%;\n  margin: 10px 1% 0;\n  height: 90px;\n`\nexport const PlayButton = styled.button`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  padding-left:1px;\n  width: 2rem;\n  height: 2rem;\n  background: none;\n  border-radius: 50%;\n  border: none;\n  outline: none;\n  cursor: pointer;\n  /* border: 1px solid #eee; */\n  &:hover {\n    /* border: 1px solid #333; */\n    /* background: #eee; */\n  }\n`\n","import React, { Component } from 'react'\nimport WaveSurfer from 'wavesurfer.js'\n\nimport {\n  WaveformLayout,\n  WaveformContainer,\n  Wave,\n  PlayButton\n} from './Waveform.styled'\n\n// import { library } from '@fortawesome/fontawesome-svg-core'\n// import {\n//   faPlay,\n//   faPause,\n//   faFileDownload\n// } from '@fortawesome/free-solid-svg-icons'\n\nimport { FiPlay, FiPause } from 'react-icons/fi'\n\n\n// import { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\n\n// library.add(faPlay, faPause, faFileDownload)\n\nclass Waveform extends Component {\n  state = {\n    playing: false,\n    hasError: false,\n    ready: false\n  }\n\n  destroy = () => this.setState({ ready: false })\n\n  ready = (isReady) => {\n    // this.setState({ ready: !this.state.ready })\n    this.setState({ ready: isReady })\n  }\n\n  stopPlay = () => {\n    this.setState({ playing: false })\n  }\n\n  handlePlay = () => {\n    this.setState({ playing: !this.state.playing })\n    this.waveform.playPause()\n  }\n\n  componentDidMount() {\n    const track = document.querySelector('#track' + this.props.url.substr(-8))\n    this.waveform = WaveSurfer.create({\n      barWidth: 3,\n      cursorWidth: 1,\n      container: '#waveform' + this.props.url.substr(-8),\n      backend: 'MediaElement',\n      height: 80,\n      progressColor: '#2D5BFF',\n      responsive: true,\n      waveColor: '#EFEFEF',\n      cursorColor: 'transparent'\n    })\n    this.waveform.load(track)\n\n    this.waveform.on('ready', () => {\n      const duration = this.waveform.getDuration()\n      this.ready(true)\n    })\n\n    this.waveform.on('error', function (e) {\n      console.warn(e)\n    })\n\n    // Go to the next track on finish\n    this.waveform.on('finish', () => {\n      this.stopPlay()\n      // this.setState({ ready: isReady })\n    })\n  }\n\n  componentDidUpdate(prevProps) {\n    // Typical usage (don't forget to compare props):\n    // if (this.props.isReady !== prevProps.isReady) {\n    if (this.props !== prevProps) {\n      const track = document.querySelector('#track' + this.props.url.substr(-8))\n      this.waveform.load(track)\n    }\n    // }\n  }\n\n  render() {\n    if (this.state.hasError) {\n      // You can render any custom fallback UI\n      return <h1>Something went wrong.</h1>\n    }\n\n    // const url =\n    //   this.props.match !== undefined\n    //     ? this.props.match.params.name\n    //     : this.props.url\n    const { url, name } = this.props\n    return (\n      <>\n        {url !== '' && (\n          <WaveformLayout>\n            {/*name*/}\n            <WaveformContainer>\n              <PlayButton onClick={this.handlePlay}>\n                {!this.state.playing ? (\n                  <FiPlay  />\n                ) : (\n                  <FiPause />\n                )}\n              </PlayButton>\n              {!this.state.ready ? (\n                <div className=\"loader loader-bouncing is-active\" />\n              ) : (\n                ''\n              )}\n              <Wave id={'waveform' + this.props.url.substr(-8)} />\n              <audio id={'track' + url.substr(-8)} src={url} />\n              {/*<a style={{ textAlign: 'right' }} href={url}>\n                <FontAwesomeIcon\n                  icon=\"file-download\"\n                  color=\"black\"\n                  className=\"fa-icon\"\n                />\n              </a>*/}\n            </WaveformContainer>\n          </WaveformLayout>\n        )}\n      </>\n    )\n  }\n}\n\nexport default Waveform\n","import { Box, Button, useColorModeValue } from '@chakra-ui/react'\nimport React,{ useState, useEffect } from 'react'\nimport { ImDownload } from 'react-icons/im'\nimport { Card } from './Card'\nimport { CardContent } from './CardContent'\nimport { CardHeader } from './CardHeader'\nimport { Property } from './Property'\n\nimport Waveform from './Waveform'\nconst { Dropbox } = require('dropbox')\nimport './styles.css'\n\nvar ACCESS_TOKEN =\n  '8DRYAxrQ7JcAAAAAAAAAAWAXxIGnRi1ABIzw_6DV5k3Qzmwq9gD1Q7_uGdPCZR50' //document.getElementById('access-token').value;\nvar dbx = new Dropbox({ accessToken: ACCESS_TOKEN })\n\nexport const AppUi = () => {\n  const [urls, setURLs] = useState(null)\n  const [url, setUrl] = useState(null)\n  const [name, setName] = useState(null)\n  const [pages, setPages] = useState(null)\n  const [page, setPage] = useState(0)\n  const [pageLength] = useState(1000)\n\n  useEffect(() => {\n    const audio = []\n    dbx\n      .filesListFolder({\n        path:\n          '/THE GLOBAL SOUND LIBRARY/United Kingdom/Bollo Brook Youth Centre/BOLLO MP3s'\n      })\n      .then(function (response) {\n        const files = response.result.entries\n        let filesTotalAudio = 0\n        let fileAudioCounter = 0\n        for (var i = 0; i < files.length; i++) {\n          if (\n            files[i].name.includes('mp3') &&\n            files[i].name.includes('@') === false\n          ) {\n            filesTotalAudio = filesTotalAudio + 1\n            dbx\n              .filesGetTemporaryLink({\n                path: files[i].path_display\n              })\n              .then(function (response) {\n                audio.push({\n                  url: response.result.link,\n                  name: response.result.metadata.name,\n                  size: response.result.metadata.size\n                })\n                fileAudioCounter = fileAudioCounter + 1\n                if (fileAudioCounter === filesTotalAudio) {\n                  setPages(Math.floor(filesTotalAudio / pageLength))\n                  setURLs(audio)\n                  setUrl(audio[0].url)\n                  setName(audio[0].name)\n                }\n              })\n              .catch(function (error) {\n                console.error(error)\n              })\n          }\n        }\n      })\n      .catch(function (error) {\n        console.error(error)\n      })\n  }, [])\n\n  const pageFirst = () => {\n    return page === 0\n  }\n\n  const pageLast = () => {\n    return page === pages - 1\n  }\n\n  const backward = () => {\n    if (page > 0) {\n      setPage(page - 1)\n    }\n  }\n\n  const forward = () => {\n    if (page < pages) {\n      setPage(page + 1)\n    }\n  }\n\n  return (\n  <Box\n    as=\"section\"\n    bg={useColorModeValue('gray.100', 'inherit')}\n    py=\"12\"\n    px={{\n      md: '8',\n    }}\n  >\n    <Card maxW=\"3xl\" mx=\"auto\">\n      <CardHeader\n        title={url && <><span>{name}</span><Waveform url={url} name={name} /></>}\n        action={\n          url && <Button variant=\"outline\" minW=\"20\" leftIcon={<ImDownload />}>\n            <a href={url}>Download</a>\n          </Button>\n        }\n      />\n      <CardContent height=\"15rem\" overflow=\"scroll\">\n          {urls && urls.length > 0 && (\n            urls\n              .filter(\n                (el, i) =>\n                  i >= page * pageLength && i < (page + 1) * pageLength\n              )\n              .map((el) => (\n                <Property key={el.name} label={<Box as=\"button\" onClick={()=>{setUrl(el.url);setName(el.name)}}>{el.name}</Box>}  />\n              ))\n          )}\n      </CardContent>\n    </Card>\n  </Box>\n)}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { AppUi } from \"./App\";\nimport { ChakraProvider } from \"@chakra-ui/react\";\n\nfunction App() {\n  return (\n    <ChakraProvider>\n      <AppUi />\n    </ChakraProvider>\n  );\n}\n\nconst rootElement = document.getElementById(\"root\");\nReactDOM.render(<App />, rootElement);\n"],"sourceRoot":""}