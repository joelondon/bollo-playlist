(this["webpackJsonpbollo-playlist"]=this["webpackJsonpbollo-playlist"]||[]).push([[0],{197:function(e,t){},199:function(e,t){},209:function(e,t){},211:function(e,t){},238:function(e,t){},239:function(e,t){},244:function(e,t){},246:function(e,t){},253:function(e,t){},272:function(e,t){},288:function(e,t,n){},289:function(e,t,n){"use strict";n.r(t);var a,r,o,c,i=n(2),s=n(167),l=n.n(s),u=n(7),d=n(298),b=n(291),j=n(301),h=n(174),f=n(36),p=n(4),O=function(e){return Object(p.jsx)(d.a,Object(f.a)({bg:Object(b.c)("white","gray.700"),rounded:{md:"lg"},shadow:"base",overflow:"hidden"},e))},m=function(e){return Object(p.jsx)(d.a,Object(f.a)({},e))},x=n(300),y=function(e){var t=e.title,n=e.action;return Object(p.jsxs)(x.a,{flexWrap:"wrap",align:"center",justify:"space-between",px:"6",py:"4",borderBottomWidth:"1px",children:[Object(p.jsx)(d.a,{fontSize:"lg",width:"100%",children:t}),n]})},g=n(180),v=["label","value"],w=function(e){var t=e.label,n=e.value,a=Object(g.a)(e,v);return Object(p.jsxs)(x.a,Object(f.a)(Object(f.a)({as:"dl",direction:{base:"column",sm:"row"},px:"6",py:"4",_even:{bg:Object(b.c)("gray.50","gray.600")}},a),{},{children:[Object(p.jsx)(d.a,{as:"dt",minWidth:"180px",children:t}),Object(p.jsx)(d.a,{as:"dd",flex:"1",fontWeight:"semibold",children:n})]}))},S=n(169),k=n(170),A=n(181),B=n(179),C=n(171),D=n.n(C),F=n(56),E=n(57),I=E.a.div(a||(a=Object(F.a)(["\n  display: flex;\n  text-transform: lowercase;\n  font-variant: 'small-caps';\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  border: '1px black';\n  width: 100%;\n  background: transparent;\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen,\n    Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif, 'Sans Serif',\n    Icons;\n"]))),P=E.a.div(r||(r=Object(F.a)(["\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  justify-content: center;\n  height: 100px;\n  width: 100%;\n  background: transparent;\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen,\n    Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif, 'Sans Serif',\n    Icons;\n"]))),W=E.a.div(o||(o=Object(F.a)(["\n  width: 100%;\n  margin: 10px 1% 0;\n  height: 90px;\n"]))),L=E.a.button(c||(c=Object(F.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  padding-left:1px;\n  width: 2rem;\n  height: 2rem;\n  background: none;\n  border-radius: 50%;\n  border: none;\n  outline: none;\n  cursor: pointer;\n  /* border: 1px solid #eee; */\n  &:hover {\n    /* border: 1px solid #333; */\n    /* background: #eee; */\n  }\n"]))),R=n(104),U=function(e){Object(A.a)(n,e);var t=Object(B.a)(n);function n(){var e;Object(S.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={playing:!1,hasError:!1,ready:!1},e.destroy=function(){return e.setState({ready:!1})},e.ready=function(t){e.setState({ready:t})},e.stopPlay=function(){e.setState({playing:!1})},e.handlePlay=function(){e.setState({playing:!e.state.playing}),e.waveform.playPause()},e}return Object(k.a)(n,[{key:"componentDidMount",value:function(){var e=this,t=document.querySelector("#track"+this.props.url.substr(-8));this.waveform=D.a.create({barWidth:3,cursorWidth:1,container:"#waveform"+this.props.url.substr(-8),backend:"MediaElement",height:80,progressColor:"#2D5BFF",responsive:!0,waveColor:"#EFEFEF",cursorColor:"transparent"}),this.waveform.load(t),this.waveform.on("ready",(function(){e.waveform.getDuration();e.ready(!0)})),this.waveform.on("error",(function(e){console.warn(e)})),this.waveform.on("finish",(function(){e.stopPlay()}))}},{key:"componentDidUpdate",value:function(e){if(this.props!==e){this.stopPlay();var t=document.querySelector("#track"+this.props.url.substr(-8));this.waveform.load(t),this.setState({playing:!0}),this.waveform.playPause()}}},{key:"render",value:function(){if(this.state.hasError)return Object(p.jsx)("h1",{children:"Something went wrong."});var e=this.props,t=e.url;e.name;return Object(p.jsx)(p.Fragment,{children:""!==t&&Object(p.jsx)(I,{children:Object(p.jsxs)(P,{children:[Object(p.jsx)(L,{onClick:this.handlePlay,children:this.state.playing?Object(p.jsx)(R.a,{}):Object(p.jsx)(R.b,{})}),this.state.ready?"":Object(p.jsx)("div",{className:"loader loader-bouncing is-active"}),Object(p.jsx)(W,{id:"waveform"+this.props.url.substr(-8)}),Object(p.jsx)("audio",{id:"track"+t.substr(-8),src:t})]})})})}}]),n}(i.Component),M=(n(288),new(0,n(192).Dropbox)({accessToken:"8DRYAxrQ7JcAAAAAAAAAAWAXxIGnRi1ABIzw_6DV5k3Qzmwq9gD1Q7_uGdPCZR50"})),z=function(){var e=Object(i.useState)(null),t=Object(u.a)(e,2),n=t[0],a=t[1],r=Object(i.useState)(null),o=Object(u.a)(r,2),c=o[0],s=o[1],l=Object(i.useState)(null),f=Object(u.a)(l,2),x=f[0],g=f[1],v=Object(i.useState)(null),S=Object(u.a)(v,2),k=(S[0],S[1]),A=Object(i.useState)(0),B=Object(u.a)(A,2),C=B[0],D=(B[1],Object(i.useState)(1e3)),F=Object(u.a)(D,1)[0];Object(i.useEffect)((function(){var e=[];M.filesListFolder({path:"/THE GLOBAL SOUND LIBRARY/United Kingdom/Bollo Brook Youth Centre/BOLLO MP3s"}).then((function(t){for(var n=t.result.entries,r=0,o=0,c=0;c<n.length;c++)n[c].name.includes("mp3")&&!1===n[c].name.includes("@")&&(r+=1,M.filesGetTemporaryLink({path:n[c].path_display}).then((function(t){e.push({url:t.result.link,name:t.result.metadata.name,size:t.result.metadata.size}),(o+=1)===r&&(k(Math.floor(r/F)),a(e),s(e[0].url),g(e[0].name))})).catch((function(e){console.error(e)})))})).catch((function(e){console.error(e)}))}),[]);return Object(p.jsx)(d.a,{as:"section",bg:Object(b.c)("gray.100","inherit"),py:"12",px:{md:"8"},children:Object(p.jsxs)(O,{maxW:"3xl",mx:"auto",children:[Object(p.jsx)(y,{title:c&&Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("span",{children:x}),Object(p.jsx)(U,{url:c,name:x})]}),action:c&&Object(p.jsx)(j.a,{variant:"outline",minW:"20",leftIcon:Object(p.jsx)(h.a,{}),children:Object(p.jsx)("a",{href:c,children:"Download"})})}),Object(p.jsx)(m,{height:"15rem",overflow:"scroll",children:n&&n.length>0&&n.filter((function(e,t){return t>=C*F&&t<(C+1)*F})).map((function(e){return Object(p.jsx)(w,{label:Object(p.jsx)(d.a,{as:"button",onClick:function(){s(e.url),g(e.name)},children:e.name})},e.name)}))})]})})},G=n(302);function N(){return Object(p.jsx)(G.a,{children:Object(p.jsx)(z,{})})}var _=document.getElementById("root");l.a.render(Object(p.jsx)(N,{}),_)}},[[289,1,2]]]);
//# sourceMappingURL=main.50a78989.chunk.js.map